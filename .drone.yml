kind: pipeline
name: default

steps:
  - name: fetch git submodules
    image: alpine/git
    commands:
      - git submodule init
      - git submodule update --recursive --remote

  - name: check documentation build
    image: rust:1.55-slim-buster
    commands:
      - apt update
      - apt install pkg-config libssl-dev libpq-dev --yes
      - ./build.sh
